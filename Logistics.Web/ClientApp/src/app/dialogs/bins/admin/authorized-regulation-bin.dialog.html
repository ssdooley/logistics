<div class="mat-typography">
  <h2 mat-dialog-title>Authorized Regulation Recycle Bin</h2>
  <div *ngIf="service.deletedAuthorizedRegulations$ | async as regs else loading">
    <div mat-dialog-content>
      <div *ngIf="regs.length > 0" fxLayout="column" fxLayoutAlign="start stretch">
        <div *ngFor="let r of regs" class="background card elevated" fxLayout="row" fxLayoutAlign="start center">
          <p class="mat-body-strong" fxFlex>{{r.name}}</p>
          <p class="mat-body-strong" fxFlex>{{r.reference}}</p>
          <button mat-icon-button [matMenuTriggerFor]="menu">
            <mat-icon>more_vert</mat-icon>
          </button>
          <mat-menu #menu="matMenu" [overlapTrigger]="false">
            <button mat-menu-item (click)="toggleAuthorizedRegulationDeleted(r)">
              <mat-icon>settings_backup_restore</mat-icon> Restore
            </button>
          </mat-menu>
        </div>
      </div>
      <h3 *ngIf="!(regs.length > 0)">Recylce bin is Empty</h3>
    </div>
    <div mat-dialog-actions>
      <button mat-button mat-dialog-close>Close</button>
    </div>
  </div>
  <ng-template #loading>
    <mat-progress-bar mode="indeterminate" color="accent"></mat-progress-bar>
  </ng-template>
</div>
